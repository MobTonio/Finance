# Finance Tracker - Система управления финансами

## Описание проекта

Finance Tracker - это консольное приложение для управления личными финансами, позволяющее отслеживать доходы и расходы  
по различным кошелькам. Приложение поддерживает работу с PostgreSQL и предоставляет аналитические функции для анализа 
финансовых данных.

## Функциональность

### Основные функции (по ТЗ)

- Анализ транзакций по месяцам - группировка транзакций по типам (Income/Expense) с сортировкой по общей сумме и дате,
в каждой группе отсортирует транзакции по дате (от самых старых к самым новым)

- Топ расходов по кошелькам - показ 3 самых больших трат за указанный месяц для каждого кошелька, отсортированных по 
убыванию суммы

### Дополнительные функции

- Управление кошельками (создание, просмотр, удаление)

- Управление транзакциями (добавление, просмотр, удаление)

## Технологии

- .NET 9.0

- Entity Framework Core

- PostgreSQL (в дальнейшем возможно использование альтернативы)

- Docker

## Требования

- Docker

## Работа с приложением

### Запуск приложения

Выполнить в последовательности:

1. ```docker-compose up -d postgres```
2. ```docker-compose run --rm --service-ports finance-app```

"Using PostgreSQL provider" - сообщение появляется чтобы показать к какой бд осуществляется подключение. На данный 
момент она одна.

### Первоначальная настройка

При первом запуске приложение предложит заполнить базу тестовыми данными:

```text
Заполнить базу тестовыми данными? (y/n)
```

Рекомендуется выбрать "y" для быстрого тестирования функциональности. Однако при желании завести данные можно вручную

### Использование

После запуска откроется главное меню:

```text
=== СИСТЕМА МЕНЕДЖМЕНТА ФИНАНСОВ ===
=== ОСНОВНЫЕ ДЕЙСТВИЯ ===
1. Анализ транзакций по месяцам
2. Топ расходов по кошелькам

=== СЛУЖЕБНЫЕ ФУНКЦИИ ===
3. Управление кошельками
4. Управление транзакциями
0. Выход
```

Основные функции (те, что в тз) выполняются по выбору первых 2х пунктов

Инструкция по вводу данных довольно подробно при выборе нужных вам пунктов

### Остановка приложения

Используйте пункт меню "0. Выход" для корректного завершения работы

## Возможные ошибки

### Проблемы с вводом в консоли

Если ввод не работает при запуске через docker-compose up, используйте способ с docker-compose run или docker attach.

### Проблемы с подключением к базе данных

Убедитесь, что контейнер PostgreSQL запущен:

```bash
docker-compose ps
```

### Проблемы с русской кодировкой

Приложение настроено для работы с UTF-8. Если возникают проблемы с отображением русских символов, проверьте настройки 
терминала.

## Описание основных компонентов

### FinanceTracker.Data

- Entities - Entity Framework сущности, представляющие таблицы в базе данных

- EntityConfigurations - Fluent API конфигурации для настройки моделей Entity Framework

- Repositories - паттерн Repository для доступа к данным

- AppDbContext - основной класс для работы с базой данных через Entity Framework

### FinanceTracker.ConsoleApp

Program.cs - содержит точку входа приложения, главное меню и основную бизнес-логику

- Managers - классы, инкапсулирующие UI для работы с данными

- appsettings.json - содержит в себе строку подключения к бд

- Program.cs - содержит точку входа приложения, главное меню и основную бизнес-логику